\documentclass[a4paper, 12pt]{article}
\input{.format/preambulo.tex}

\begin{document}

\section{Algoritmo Formiga}

 O primeiro sistema formiga para VRP foi desenhado muito recentemente por {\color{red} referência},
o qual considera a versão mais elementar do problema: CVRP.

 Para mais versões mais complexas de VRP, {\color{red} referência} tem desenvolvido um sistema de
multiplas colonias de formigas para VRPTW (MACS-VRPTW) o qual é organizado com uma hierarquia de
desenho de colonias artificais de formigas para sucessivamente otimizar uma função de multiplos
objetivos: a primeira colonia minimiza o numero de veículos enquanto a segunda colonia minimiza a
distância de viagem. Cooperação entre colonias é feita mudando informações através de atualização de
feromônio.

 Em {\color{red} referência} desenho, há duas fases básicas de sistemas de formigas: construção de
veículos e atualização de trilha, O Algoritmo AS é explicado aqui.

\subsection{ Algoritmo de Sistema de formigas}

 Após inicializar o AS, os dois passos básicos de construção de rotas de veículos e atualização de
trilha são repetidos para um número de iterações. Considerando a disposição inicial das formigas
artificiais foi encotrado que o número de formigas poderia ser igual em cada cliente no inicio da
iteração. O 2-opt-heuritica ( é explicada esplorando todas as permutações obtidas pela mudança de
duas cidades) é usando para minimizar a rota de veículos geredas pelas formigas artificiais,
consideravelmente melhorar a qualidade da solução. Além disso para esse avançar na pesquisa local
tambem introduzimos uma listade de cadidatos para seleção de clientes os quais são determinados na
fase de inicialização do algoritmo. Para cada localição $d_{ij}$ ordenamos $V-\{v_i\}$. de acordo
com a distância crescente $d_{ij}$ para obter a lista de candidatos. A proposição de AS para CVRP
pode ser descrita pelo seguinte algoritmo esquematico:

\begin{enumerate}
\item Inicialize
\item Para $I^{\max}$ iterações faça:

\begin{enumerate}
\item Para todas as formigas gerar um nova solução usando a Fórmula 1 e a lista de candidatos
\item Melhorar todas as rotas de veículos usando o 2-opt-heuristica
\item Atualizar as trilhas de feromônio usando Fórmula 2.
\end{enumerate}
\end{enumerate}

\subsection{Construção da rota de veículos}

To solve the VRP, the artificial ants construct solutions by successively choosing cities to visit,
until each city has been visited. Whenever the choice of another city would lead to an unfeasible
solution for reasons of vehicle capacity or total route length, the depot is chosen and a new tour
is started. For the selection of a (not yet visited) city, two aspects are taken into account: how
good was the choice of that city, an information that is stored in the pheromone trails τij is
associated with each arc (vi,vj), and how promising is the choice of that city. This latter measure
of desirability, called visibility and denoted by ηij, is the local heuristic function mentioned
above.

 Para resolver o VRP, as formigas artificias constroem soluções escolhendo cidades sucessivas para
visitas, até que cada cidade tenha sido visitada. Sempre que a escolha de outra cidade poder levar a
uma solução impossivel para resolver do veículo capacitado ou de comprimento toal, o deposito é
escolhido e uma nova rota é iniciada. Para a seleção de uma cidade, dois aspectos são levados em
conta: qual boa foi a escolha desta cidade, um informação que é quardada nas trilhas de feromônio
$\tau_{ij}$ é associada com cada arco $(v_i, v_j)$, e 




 Com $\Omega = \{ v_i \in V: v_j\textrm{ é possivel ser visitado} \} \cup \{v_0\}$, a cidade $v_j$ é
selecionada para ser visitada com segue:

\[p_{ij} = \left\{
\begin{array}{ll}
\frac{[\tau_{ij}]^\alpha[\eta_{ij}]^\beta}{\sum_{k\in\Omega[\tau_{ij}]^\alpha[\eta_{ij}]^\beta}}
& \textrm{if } v_j \in \Omega\\
0 & \textrm{caso contrário}
\end{array}\right.\]

 Essa possibilidade de distribuição é inclinada pelos parâmetros $\alpha$ e $\beta$ que determinan a
influência relativa das trilhas e a vizibilidade, respectivamente. A vizibilidade é determinada como
a recíproca da distância, e a probabilidade de seleção é então extendida pela informação específica
do problema. Aqui, a inclusão de poupaças e capacidade utilizam a liderança para melhorar
resultados. De outra forma, o último é relativamente custoso em termos de tempo computacional e
assim não usaremos neste paper. Assim, introduziremos os parâmetros $f$ e $g$, e usaremos os
seguintes função paramétrica de economia para a visibilidade:

 \[\eta_{ij} = d_{i0}+d_{0j}-gd_{ij}+f|d_{i0}-d_{0j}|\]

\subsection{Atualização de trilha}

 Após uma formiga artificial ter construido uma solução possivel, as trilhas de feromônio são
sulcado(?) dependedo do valor objetico da solução. Essa regra de atualização é como segue:

\[\tau^{new}_{ij} = p \tau^{old}_{ij} + \sum_{\mu=1}^{\sigma-1} \Delta\tau^{\mu}_{ij}+\sigma
\Delta\tau^{*}_{ij}\]

 onde $p$ é a pesistência da trilha (com $0 \leq \rho \leq 1$, assim a evaporação da trilha é dada
por $(1-\rho)$. Únicamente se o arco $(v_i, v_j)$ foi usado pela $\mu$-esima melhor formiga, a
trilha de feromônuo é incrementada em $\Delta \tau_{ij}^\mu$ o qual é então igual a $(\sigma -
\mu)/L_\mu$, e $0$ caso contrário. Além disso para que, todos os arcos pertençam a melhor solução
é enfatizado com se $\sigma$ formiga elitista fossem usadas então. Assim, cada formiga elitista
incrementa a intesidade da trilha em $\Delta \tau_{ij}^*$ que é igual a $1/L^*$ se o arco $(v_i,
v_j)$ pertence a melhor solução, e $0$ caso contrário.


\section{Algoritmo de programação de restrições}

 A programação de restrições (CP) {\color{red} referência} é um paradigma para representar e
resolver uma larga variedade de problemas. Problemas são expressos em termos de variáveis, domínios
para estas variáveis e restrições entre as variáveis. Os problemas são então resolvidos usando
tecnicas de pesquisa completa rais como depth-first search e branch e bound. A riqueza de linguagem
usada para expressar problemas em CP faz este um candidato ideal para VRPs. Isso podessibilida a
utilização de expressões mais gerais. Além disso expressões envolvendo a aritimética usual e
operações lógicas, restrições simbólicas complexas podem ser usadas para descrever problemas. CP
melhora a pesquisa usando propagação de restrições. Se os limites ou restrições de uma variável
podem ser inferidos, ou são conjuntos testaveis, essas mudanças são "propagadas" através de todas as
restrições para reduzir o domínio de variáveis restritoras.

 Em cada nó na arvore de pesquisa, os mecanismos de propagação removem valores do domínio de
variáveis restritoras que são inconsistentes com outras variáveis. Se o mecanismo de propagação
remove todos os valores de uma variável, então não pode haver um solução nesta sub-árvore e a
pesquisa de rastros faz uma decisão diferente no ponto de rastro. Rastreio é cronológigo: decisões
podem somente ser desfeitas em ordem oposta a qual elas foram feitas. Contudo, os domínios as
variáveis de restrição podem somente ser reduzidos com uma pesquisa descendete na árvore. O domínio
de todas as variáveis de restriçã pode ser restaurado pelo rastro para um nó anterior, mas
geralmente o aumento de domínios não é suportado. Isso tem implicações importantes para os meiors
nos quais o VRP é resolvido.

 No caso particular de resolver VRP, uma variável de decisão $R_i$ é associada com cada cliente
vizitado $i$, representando a próxima vizita feita pelo mesmo veículo. Para cada veículo $k$, há
visitas adicionais $S_k$ fazendo o inicio a rota, e $E_k$ fazendo o fim da rota. Para ler o fim do
intinerário para um veículo $k$, iniciado em $S_K$ e seguindo o próximo ponteiro através de $E_k$.

 O conjunto de clientes visitados será referenciado com $N$, a visita inicial com $S$, e a visita
final com $E$. $A =_{def} N\cup S\cup E$ são todas as visitas. Observando $R$ como uma função, $R$
aplica $N\cup S$ sobre $N\cup E$.

 Modelar VRP é desejavel ter um tipo de restrição especial para distribuir restrições ao longo dos
caminhos, As restrições são da forma $R_i = j \Rightarrow Q_j \geq Q_i + q_{ij}.$  

 Assim, se o visitante $j$ segue imediatamente o visitante $i$, a quantidade $Q$ é acumulada. Por
exemplo, tomando-se $q_{ij}$ iqual a o tempo de viágem entre $i$ e $j$ isto seria a o tempo de
chegada em $j$. Tomando-se $q_{ij}$ como a demanda em $i$ que seria acumulada no veículo. Isso
significa permitir outra restrição do mundo real ser expressa sucintamente.

 Em cada caso um ponto fixo deve ser suplimido, por exemplo $Q_i = 0 \forall i\in S$ no caso de
restrições de carga. Uma simples restrição deste tipo o qual restringe a limite superior tambem deve
ter os efeitos de eliminação de subrotas.

\subsection{Restrições para VRP}

\subsection{Núcleo de restrições}

\begin{itemize}
\item Time: é restrito pelo dia de trabalho e pela tempo de entrega do cliente.
\item Capacity: pode ser restrito em termos de peso, volume, número de lugares de pallet, etc.
\end{itemize}


 Uma restrição de caminho pode ser usada para propagar o tempo inicial do serviço de um cliente ao
longo de cada rota de veículos. Neste caso, $q_{ij}$ é o tempo de serviço em $i$, mais o tempo de
viagem para $j$.

 Um serviço de tempo de janela simples ou multiplo poderia ser tomado restringindo fortemente o
inicio da variável de serviço para cada visita. O inicio e o fom de cada dia de trabalho para cada
veículo pode ser representada impondo a janela de tempo em $S$ e $E$.

A method of modeling capacity constraints on vehicles is to propagate (via the path constraint) the
free space in the vehicle along each vehicle route. To model Fi as the free space on arrival at
visit i, qij is the change in free space associated with i visit. To indicate that all vehicles must
not be overfilled at any time, constraints of the form Fi≥0∀i∈A are imposed. For vehicle k with
capacity ck, the fixed point Fk=ck for k∈S can be set. Simultaneous pickups and deliveries can be
modeled in a similar way, but this is not discussed here.

 Um método de modelamento das restrições de capacidade em um veículo é propagar os espaços livres no
veículo ao longo da rota do veículo. O modelo $F_i$ como o espaço livre na chegada de um visitante
$i$, $q_{ij}$ é a mudança no espaço livre associado com o visitante $i$. Para indicar que todos os
veículos devem ser sobrecarregados em algum tempo, restrições da forma $F_i \geq 0 \forall i \in A$
são impostas. Para o veículo $k$ com capacidade $c_k$, o ponto fixo $F_k=c_k$ para $k \in S$ pode
ser tomado. Simultâneas recepções e entregas podem ser modeladas num modo similar, mais isso não é
discutido aqui.

\subsection{Restrições de Tamanho}

 Um dos benefícios da tecnica CP é que as restrições de tamanho pode ser incorporadas sobre o modelo
com facilidade comparativa. Por exemplo, algumas visitas pode requerer equipamentos especiais, ou
alguns veículos pode ser simplesmente muito grandes para entrar nas premissas. Assim, precisamos ser
capazes de não permitir uma visita sendo feita por um veículo particular.

 Modelamos isso por uma etiqueta de veículo $\tay_k$ para cada visitante $k$ de cada rota, usando
uma restrição similar para a restrição de caminho para a qual $R_i = j\rightarrow \tau_j=\tau_i$ com
$\tau_i = i$ para $i\in S$. Assim visitas de clientes servidos pelo veículo $k$ tem etiqueta $k$. O
veículo $k$ é então esquecido pela visita $i$ feita impondo-se uma restrição da forma $\tau_i \neq
k$. Um conjunção de tal expressão pode ser usada para excluir mais que um veículo.

 O requerimento que duas visitas $i$ e $j$ devem ser feitas pelo mesmo veículo pode tambem ser
especificada usando a etiqueta: $\tau_i = (\neq ) \tau_j.$

 Melhorando um tamanho de capacidade para um veículode prove um exemplo final que demonstra um
poderoso uso das etiquetas de veículos. Uma restrição de comprimento é diferente de uma restrição de
capacidade já que esta não se acumular sobre uma rota. Se o visitante $i$ envolve bons de bens de
comprimento $l$, e $L_k$ é o comprimento do veículo $k$, então a restrição $L(\tau_i) \geq l$i
\end{document}
